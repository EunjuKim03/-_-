import random
from typing import List
import unicodedata

def get_initial_consonant(word: str) -> str:
    result = []
    for ch in word:
        if ch.isspace():
            continue
        if 'ê°€' <= ch <= 'í£':
            decomp = unicodedata.normalize('NFD', ch)
            result.append(decomp[0])
        else:
            result.append(ch)
    return ''.join(result)

def start_game(word_list: List[str], rounds: int = 5) -> None:

    print("ì´ˆì„±ìœ¼ë¡œ ê³¼ì¼ ì´ë¦„ ë§ì¶”ê¸° í€´ì¦ˆ")
    score = 0
    for idx in range(1, rounds + 1):
        word = random.choice(word_list)
        hint = get_initial_consonant(word)
        print(f"[{idx}/{rounds}] ì´ˆì„±: {hint}")
        answer = input("ğŸ‘‰  ").strip()

        # ê³µë°± ì œê±°í•œ í˜•íƒœë¡œ ë¹„êµ
        canonical_word   = word.replace(" ", "")
        canonical_answer = answer.replace(" ", "")

        if not canonical_answer:
            print("â­ ì…ë ¥ì´ ì—†ìŠµë‹ˆë‹¤. íŒ¨ìŠ¤í•©ë‹ˆë‹¤.")
            continue

        if canonical_answer == canonical_word:
            print("ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!")
            score += 1
        else:
            print(f"âŒ í‹€ë ¸ìŠµë‹ˆë‹¤â€¦ ì •ë‹µì€ '{word}'ì˜€ìŠµë‹ˆë‹¤.")

    print(f"\nğŸ ê²Œì„ ì¢…ë£Œ! ìµœì¢… ì ìˆ˜: {score}/{rounds}")

if __name__ == "__main__":
    FRUITS = [
        "ì‚¬ê³¼", "ë°”ë‚˜ë‚˜", "ë”¸ê¸°", "ë°°", "ë³µìˆ­ì•„",
        "ìˆ˜ë°•"
    ]
    start_game(FRUITS, rounds=5)
